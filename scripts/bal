#!/bin/sh

switch=""
current="-c"
limit="-l \$50"

if [ "$1" = "-C" -o "$1" = "-U" -o "$1" = "-P" ]; then
  switch="$1"
  shift
elif [ "$1" = "-b" -o "$1" = "-e" ]; then
  current="$1 $2"
  shift 2
fi

accts="$@"
if [ -z "$accts" ]; then
  accts="-Equity -Income -Expenses"
  if [ ! "$switch" = "-P" ]; then
    accts="$accts -Savings -Retirement"
  fi
else
  limit=""
  negonly=""
fi

ledger $current $limit $negonly -s $switch balance $accts
